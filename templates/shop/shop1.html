{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static '/shablon/shop5.css' %}">
    <link rel="stylesheet" href="{% static '/assets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/shablon/slick/slick.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static '/shablon/slick/slick-theme.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />



    <title>{{user_shop.title}}</title>
    <script>
        /**
         * @license
         * Copyright 2019 Google LLC. All Rights Reserved.
         * SPDX-License-Identifier: Apache-2.0
         */
        function initMapProfile() {
          const myLatlng = { lat: -25.363, lng: 131.044 };
          const map = new google.maps.Map(document.getElementById("map_about"), {
            zoom: 4,
            center: myLatlng,
          });
          const marker = new google.maps.Marker({
            position: myLatlng,
            map,
            title: "Click to zoom",
          });
  
          map.addListener("center_changed", () => {
            // 3 seconds after the center of the map has changed, pan back to the
            // marker.
            window.setTimeout(() => {
              map.panTo(marker.getPosition());
            }, 3000);
          });
          marker.addListener("click", () => {
            map.setZoom(8);
            map.setCenter(marker.getPosition());
          });
        }
  
        window.initMap = initMap;
      </script>
</head>

<body>
    {% include "include/shop_header.html" %}

    <hr>

    <div class="my-products">
        <h1 class="title" >My products</h1>
        <ul class="product-container">
            {% for product in user.products.all|slice:":4" %}
            <li class="product-item"
                style="background: url('{{ product.image.url }}') center/cover no-repeat;">

                <div class="top">
                    <span class="product-name">{{ product.title }}</span>
                </div>
                <div class="bottom">
                    <h4 class="short-description">{{ product.description|truncatewords:5}}</h4>
                    <span class="prise">{{ product.price }} $</span>
                </div>
            </li>
            {% endfor %}

            <a href="{% url "all_products" user_shop.user.username %}" class="show_more">Show more</a>

        </ul>

    </div>
    <br>
    <hr>

    <div class="about-product" id="about">
        <h1 class="title" >About {{user_shop.title}} </h1>
        <div class="description">
            {{user_shop.description|safe}}
        </div>
    </div>
    <div id="map_about" style="width: 100%;height: 300px;">

    </div>

    <hr>
    <div class="ask-question" id="question">
        <h1 class="title" >Ask your question</h1>
        <form method="post">
            {% csrf_token %}
            <label for="question">Question:</label>
            <textarea id="question" name="question"></textarea>

            <label for="email">Email address:</label>
            <input type="text" id="email" name="email">

            <label for="number">Phone number:</label>
            <input type="text" id="number" name="number">
            
            <label for="name">Name:</label>
            <input type="text" id="name" name="name">
            <button name="send_message" type="submit">Send message</button>
        </form>
    </div>
<div class="fixed-chat-btn" style="width: 200px;height: 50px;background: rgb(255, 162, 0);position: fixed;bottom: 30px;right: 30px;display: flex;align-items: center;justify-content: center;border-radius: 20px;color: white;font-size: 15px;cursor: pointer;">
    &#9742 Связаться с шефом 
</div>

    <hr>

    <script>
        function rateStar(event) {
            const starsContainer = event.currentTarget;
            const stars = starsContainer.querySelectorAll('.star');
    
            const index = Array.from(stars).indexOf(event.target);
    
            for (let i = 0; i < stars.length; i++) {
                if (i <= index) {
                    stars[i].classList.add('gold');
                } else {
                    stars[i].classList.remove('gold');
                }
            }
        }
    
    </script>
    <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcWfRjT5_IdyA5SJfvFS5o_bHbrIxWUhk&callback=initMapProfile&v=weekly&solution_channel=GMP_CCS_simpleclickevents_v1"
    defer
  ></script>
    <script type="text/javascript" src="{% static '/assets/js/jquery-3.1.0.min.js' %}"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="{% static '/shablon/slick/slick.min.js' %}"></script>
    <script type="text/javascript" src="{% static '/shablon/slider.js' %}"></script>
</body>




</html>