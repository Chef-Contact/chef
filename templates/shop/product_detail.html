{% extends 'include/homepage.html' %}
{% load static %}
{% block content %}
  {% include 'include/header.html' %}
  <script>
    /**
     * @license
     * Copyright 2019 Google LLC. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */
    function initMapProductDet() {
      const myLatlng = { lat: -25.363, lng: 131.044 };
      const map = new google.maps.Map(document.getElementById("map_product_det"), {
        zoom: 4,
        center: myLatlng,
      });
      const marker = new google.maps.Marker({
        position: myLatlng,
        map,
        title: "Click to zoom",
      });

      map.addListener("center_changed", () => {
        // 3 seconds after the center of the map has changed, pan back to the
        // marker.
        window.setTimeout(() => {
          map.panTo(marker.getPosition());
        }, 3000);
      });
      marker.addListener("click", () => {
        map.setZoom(8);
        map.setCenter(marker.getPosition());
      });
    }

    window.initMapProductDet = initMapProductDet;
  </script>
  <div class="container-fluid"
    style="background: url({{product.image.url}}) center center;   background-size: cover; border-radius:15px !important;">
    <div class="container profil-content">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="dh-hover-box">
                <h1 class="text-center"><b>{{product.title}}</b></h1>
                <br><br>
                <div style="font-size: 22px; " class="text-black-50 text-center">
                    Кухня: {{product.kind.name}}
                    <br>
                    Категория: {{product.category.name}}
                    <br>
                    Время доступности: {{product.calendar_availability_date}}
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid bg-estimation bg-100">
    <div class="container padding-tb-50">
      <div class="col-xs-12 col-sm-5 col-md-7 col-lg-7 profil-content">
        {% if product.images|length > 0 %}
        <div class="my-products">
            <h1 class="title" >Images</h1>
            <ul class="product-container">
                {% for image in product.images.all %}
                <li class="product-item" style="background: url('{{  image.image.url }}') center/cover no-repeat;">
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        <br>
    
        <div class="about-product" id="about">
            <h1 class="title" >About {{product.title}} </h1>
            <div class="description">
                {{product.description|safe}}
            </div>
        </div>
        </div>
        {% comment %} <button class="show_more"></button> {% endcomment %}
        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 profil-content">
          <div class="check">
            <h2>Price</h2>
            <div class="total">
              <p>
                <span>Скидка</span> <b>0$</b>
              </p>
              <p>
                <span>Стоимоть налога</span> <b>0$</b>
              </p>
              <p class="total2">
                <span>ИТОГО</span> <b>{{product.price}}$</b>
              </p>
            </div>
          </div>
          <button class="btn buy-btn">В коризнку</button>
        </div>
      </div>
    <div id="map_product_det" style="width: 100%;height: 300px;"></div>

    </div>
  </div>
  <script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcWfRjT5_IdyA5SJfvFS5o_bHbrIxWUhk&callback=initMapProductDet&v=weekly&solution_channel=GMP_CCS_simpleclickevents_v1"
  defer
></script>


  {% include 'include/footer.html' %}
{% endblock %}``
